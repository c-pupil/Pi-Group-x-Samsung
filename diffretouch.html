<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiffRetouch: Controllable Image Restoration</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-dark: #000000;
            --bg-light: #f5f5f7;
            --card-light: #ffffff;
            
            --text-primary-dark: #f5f5f7;
            --text-secondary-dark: #86868b;
            --text-primary-light: #1d1d1f;
            
            /* DiffRetouch Theme: Neon Teal */
            --accent-color: #2dd4bf; /* Teal-400 */
            --accent-glow: rgba(45, 212, 191, 0.2);
            --accent-gradient: linear-gradient(135deg, #ccfbf1 0%, #2dd4bf 100%);
            
            --radius-xl: 24px;
            --glass-panel: rgba(28, 28, 30, 0.65);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary-dark);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Navbar --- */
        .navbar {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: saturate(180%) blur(20px);
            position: fixed; top: 0; width: 100%; z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            padding: 0.8rem 0;
        }
        .navbar-brand { font-weight: 600; font-size: 1.1rem; color: #fff !important; }
        .nav-link { font-size: 0.85rem; color: rgba(255,255,255,0.8) !important; margin-left: 24px; transition: color 0.2s; }
        .nav-link:hover { color: #fff !important; }

        /* --- Hero Section --- */
        .hero-section {
            position: relative; height: 100vh; width: 100%;
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .hero-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; opacity: 0.4; transform: scale(1.05);
            filter: blur(12px); transition: opacity 1s ease;
        }
        .hero-content { position: relative; z-index: 10; text-align: center; max-width: 960px; padding: 0 20px; }

        .hero-bg_2 { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            object-fit: cover; z-index: -1; filter: brightness(0.5) blur(5px); transform: scale(1.05);
        }
        
        .hero-title {
            font-size: 6rem; font-weight: 700; letter-spacing: -0.04em; line-height: 1;
            margin-bottom: 1rem;
            /* 青色到银白的渐变 */
            background: linear-gradient(135deg, #fff 0%, #99f6e4 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: fadeUp 1s ease forwards;
        }
        .hero-subtitle {
            font-size: 1.8rem; color: #a1a1a6; font-weight: 400; margin-bottom: 2rem;
            animation: fadeUp 1s ease 0.2s forwards; opacity: 0; transform: translateY(20px);
        }

        /* --- Affiliation Badge --- */
        .affiliation-container {
            display: flex; justify-content: center; align-items: center; gap: 20px;
            margin-bottom: 3rem;
            animation: fadeUp 1s ease 0.3s forwards; opacity: 0; transform: translateY(20px);
        }
        .affil-badge {
            display: flex; align-items: center; gap: 10px;
            padding: 10px 24px; border-radius: 100px;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px); font-size: 1rem; font-weight: 500; color: #fff;
            transition: all 0.3s;
        }
        .affil-badge.samsung {
            background: rgba(45, 212, 191, 0.15); border-color: rgba(45, 212, 191, 0.3);
            box-shadow: 0 0 20px rgba(45, 212, 191, 0.15);
        }
        .affil-badge:hover { transform: translateY(-2px); background: rgba(255,255,255,0.1); }
        .affil-badge.samsung:hover { background: rgba(45, 212, 191, 0.25); }

        .btn-action {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 14px 32px; border-radius: 100px;
            background: #fff; color: #000; font-size: 1rem; font-weight: 600;
            text-decoration: none; transition: transform 0.2s; margin: 0 10px;
        }
        .btn-action:hover { transform: scale(1.05); }
        .btn-action.outline { 
            background: rgba(255,255,255,0.1); color: #fff; 
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2); 
        }

        /* --- Abstract (Light Mode) --- */
        .abstract-section { padding: 8rem 0; background: var(--bg-light); color: var(--text-primary-light); }
        .abstract-container {
            max-width: 900px; margin: 0 auto; padding: 4rem;
            background: var(--card-light); border-radius: var(--radius-xl);
            box-shadow: 0 20px 40px rgba(0,0,0,0.04);
            text-align: justify; font-size: 1.2rem; line-height: 1.8; color: #424245;
        }

        /* --- Studio Section (Dark Mode) --- */
        .studio-section { padding: 6rem 0 8rem; background: #000; position: relative; border-top: 1px solid #333; }
        
        .studio-glow {
            position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);
            width: 1000px; height: 600px;
            background: radial-gradient(circle, var(--accent-glow) 0%, rgba(0,0,0,0) 70%);
            filter: blur(80px); pointer-events: none;
        }

        .studio-header { text-align: center; margin-bottom: 4rem; position: relative; z-index: 1; }
        .studio-header h2 { font-size: 3.5rem; font-weight: 700; color: #fff; margin-bottom: 0.8rem; }

        /* Console Container */
        .studio-console {
            max-width: 1100px; margin: 0 auto; position: relative; z-index: 2;
            background: var(--glass-panel); backdrop-filter: blur(30px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-xl);
            overflow: hidden; box-shadow: 0 40px 100px rgba(0,0,0,0.6);
        }

        /* Tabs */
        .attr-tabs {
            display: flex; justify-content: center; gap: 10px;
            padding: 24px; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .attr-btn {
            padding: 10px 24px; border-radius: 100px;
            background: transparent; color: #86868b;
            font-size: 0.95rem; font-weight: 500; cursor: pointer;
            border: 1px solid transparent; transition: all 0.2s;
        }
        .attr-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
        .attr-btn.active { 
            background: #3a3a3c; color: #fff; 
            border-color: rgba(255,255,255,0.1); box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
        }

        /* Viewport */
        .viewport {
            position: relative; width: 100%; aspect-ratio: 16/9;
            background: #111; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }
        .viewport-img {
            width: 100%; height: 100%; object-fit: contain;
            transition: opacity 0.2s ease;
        }

        /* Control Bar */
        .control-bar {
            padding: 40px 60px; background: rgba(20,20,20,0.6);
            border-top: 1px solid rgba(255,255,255,0.05);
            display: flex; flex-direction: column; align-items: center; gap: 20px;
        }
        
        .control-info {
            display: flex; justify-content: space-between; width: 100%; max-width: 600px;
            color: #fff; font-size: 0.95rem; font-weight: 500;
        }

        /* Slider Styles */
        input[type=range] { -webkit-appearance: none; width: 100%; max-width: 600px; background: transparent; }
        input[type=range]:focus { outline: none; }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 4px; cursor: pointer; background: #48484a; border-radius: 2px;
        }
        input[type=range]::-webkit-slider-thumb {
            height: 28px; width: 28px; border-radius: 50%;
            background: #fff; cursor: pointer; -webkit-appearance: none;
            margin-top: -12px; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            transition: transform 0.1s; border: 4px solid #fff; 
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.1); }

        .ticks {
            display: flex; justify-content: space-between; width: 100%; max-width: 600px;
            margin-top: -5px; padding: 0 10px;
        }
        .tick { font-size: 0.8rem; color: #666; font-weight: 500; }

        /* Footer (Light) */
        footer { background: #f5f5f7; padding: 5rem 0; text-align: center; color: #86868b; }
        .citation-box {
            background: #fff; padding: 24px; border-radius: 16px;
            font-family: 'Monaco', monospace; font-size: 0.85rem; color: #333;
            text-align: left; overflow-x: auto; border: 1px solid #e5e5e5;
            max-width: 800px; margin: 0 auto;
        }

        @keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class="fas fa-chevron-left me-2"></i>PI Group</a>
            <div class="collapse navbar-collapse justify-content-end">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#abstract">Abstract</a></li>
                    <li class="nav-item"><a class="nav-link" href="#studio" style="color: #fff !important;">Try Demo</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://arxiv.org/abs/2407.03757">Paper</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero-section">
        <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop" class="hero-bg_2" alt="Hero Background">
        <div style="position:absolute; top:0; left:0; width:100%; height:100%; background:radial-gradient(circle, rgba(0,0,0,0.3) 0%, #000 100%);"></div>
        
        <div class="hero-content">
            <div style="margin-bottom: 20px; animation: fadeUp 1s ease forwards;">
                <span style="
                    background: rgba(94, 234, 212, 0.15); 
                    border: 1px solid rgba(94, 234, 212, 0.3); 
                    backdrop-filter: blur(10px); 
                    padding: 6px 16px; 
                    border-radius: 100px; 
                    font-size: 0.85rem; 
                    font-weight: 700; 
                    color: #ccfbf1; 
                    box-shadow: 0 0 15px rgba(94, 234, 212, 0.2);
                ">
                    AAAI 2025
                </span>
            </div>

            <h1 class="hero-title">DiffRetouch</h1>
            <p class="hero-subtitle">Using Diffusion to Retouch on the Shoulder of Experts</p>
            
            <div class="affiliation-container">
                <div class="affil-badge">
                    <i class="fas fa-university"></i>
                    <span>PI Group, Nankai University</span>
                </div>
                <span style="opacity: 0.4; font-size: 1.2rem;">&times;</span>
                <div class="affil-badge samsung">
                    <i class="fas fa-flask"></i>
                    <span>SenseTime Research</span>
                </div>
            </div>

            <div style="opacity: 0; animation: fadeUp 1s ease 0.6s forwards; transform: translateY(20px);">
                <a href="https://arxiv.org/abs/2407.03757" class="btn-action"><i class="fas fa-file-pdf"></i> Read Paper</a>
                <a href="#studio" class="btn-action outline"><i class="fas fa-sliders-h"></i> Interactive Demo</a>
            </div>
        </div>
    </section>

    <section id="abstract" class="abstract-section">
        <div class="container">
            <div class="abstract-container">
                <h3 style="text-align:center; font-weight:700; margin-bottom:1.5rem; color:#1d1d1f;">Abstract</h3>
                <p>
                  
                    Image retouching aims to enhance the visual quality of photos. Considering the different aesthetic preferences of users, the target of retouching is
                    subjective. However, current retouching methods mostly adopt deterministic models, which not only neglects the style diversity in the expert-retouched results
                    and tends to learn an average style during training, but also lacks sample diversity during inference. 
                    <br><br>

                    In this paper, we propose a diffusion-based method, named
                    <strong>DiffRetouch</strong>. 
                    Our method can capture the complex fine-retouched distribution covering various visual-pleasing styles in the training data. Moreover, four image attributes
                    are made adjustable to provide a user-friendly editing mechanism. By adjusting these attributes in specified ranges, users are allowed to customize preferred
                    styles within the learned fine-retouched distribution. 

                </p>
            </div>
        </div>
    </section>

    <section id="studio" class="studio-section">
        <div class="studio-glow"></div>
        
        <div class="container">
            <div class="studio-header">
                <h2>Control Attribute Studio</h2>
                <p>Fine-tune image properties with our multi-modal control network.</p>
            </div>

            <div class="studio-console">
                <div class="attr-tabs">
                    <button class="attr-btn active" onclick="setAttr('brightness')">Brightness</button>
                    <button class="attr-btn" onclick="setAttr('colorfulness')">Colorfulness</button>
                    <button class="attr-btn" onclick="setAttr('contrast')">Contrast</button>
                    <button class="attr-btn" onclick="setAttr('temperature')">Temperature</button>
                </div>

                <div class="viewport">
                    <img id="displayImg" src="./data/diffretouch/brightness/original.png" class="viewport-img" alt="Demo Result">
                </div>

                <div class="control-bar">
                    <div class="control-info">
                        <span id="label-min">Low</span>
                        <span id="label-val" style="color: var(--accent-color); font-weight: 600;">Original</span>
                        <span id="label-max">High</span>
                    </div>
                    
                    <input type="range" min="1" max="5" value="3" step="1" id="attrSlider" oninput="updateImage(this.value)">
                    
                    <div class="ticks">
                        <span class="tick">-1</span>
                        <span class="tick">-0.4</span>
                        <span class="tick">Orig</span>
                        <span class="tick">0.3</span>
                        <span class="tick">1</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <h4 style="margin-bottom: 1.5rem; color: #1d1d1f;">Citation</h4>
            <div class="citation-box">
@inproceedings{duan2025diffretouch,
    title={DiffRetouch: Using Diffusion to Retouch on the Shoulder of Experts},
    author={Duan, Zheng-Peng and Zhang, Jiawei and Lin, Zheng and Jin, Xin and Wang, XunDong and Zou, Dongqing and Guo, Chun-Le and Li, Chongyi},
    booktitle={Proceedings of the AAAI Conference on Artificial Intelligence},
    year={2025}
}
            </div>
            <div style="margin-top: 3rem;">
                © 2026 PI Group & Samsung Research.
            </div>
        </div>
    </footer>

    <script>
        // Data Mapping
        const fileMap = {
            1: '-1.png',
            2: '-0.4.png',
            3: 'original.png',
            4: '0.3.png',
            5: '1.png'
        };

        let currentAttr = 'brightness';

        function setAttr(attr) {
            currentAttr = attr;
            
            // Update UI
            document.querySelectorAll('.attr-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Reset Slider
            const slider = document.getElementById('attrSlider');
            slider.value = 3;
            updateImage(3);
        }

        function updateImage(val) {
            const img = document.getElementById('displayImg');
            const labelVal = document.getElementById('label-val');
            
            const filename = fileMap[val];
            const newSrc = `./data/diffretouch/${currentAttr}/${filename}`;
            
            let displayText = filename.replace('.png', '').replace('.jpg', '');
            if(displayText === 'original') displayText = 'Original';
            labelVal.innerText = displayText;

            // Preload and fade in
            const tempImg = new Image();
            tempImg.src = newSrc;
            tempImg.onload = () => {
                img.style.opacity = 0.5; // Quick fade out
                setTimeout(() => {
                    img.src = newSrc;
                    img.style.opacity = 1; // Fade in
                }, 100);
            };
        }

        window.onload = function() {
            updateImage(3);
        }
    </script>
</body>
</html>